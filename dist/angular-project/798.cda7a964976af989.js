"use strict";(self.webpackChunkangular_project=self.webpackChunkangular_project||[]).push([[798],{5798:(M,d,l)=>{l.r(d),l.d(d,{AlumnosModule:()=>T});var p=l(6814),i=l(7700),m=l(9157),a=l(6223),v=l(2396),c=l(2032),h=l(2296),f=l(1896),t=l(5879),C=l(9862);let g=(()=>{class o{constructor(e){this._http=e,this.displayedColumns=["id","fullname","email","action"],this.estudiantes=[]}addAlumno(e){return this._http.post("http://localhost:3000/alumnos",e)}updateAlumno(e,n){return this._http.put(`http://localhost:3000/alumnos/${e}`,n)}getAlumnoList(){return this._http.get("http://localhost:3000/alumnos")}deleteAlumno(e){return this._http.delete(`http://localhost:3000/alumnos/${e}`)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(C.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),A=(()=>{class o{constructor(e,n,u){this._dialogRef=e,this._alumnosService=n,this.data=u,this.firstNameControl=new a.NI(null,[a.kI.required]),this.lastNameControl=new a.NI(null,[a.kI.required]),this.emailControl=new a.NI("",[a.kI.required,a.kI.email]),this.studForm=new a.cw({firstName:this.firstNameControl,lastName:this.lastNameControl,email:this.emailControl})}ngOnInit(){this.studForm.patchValue(this.data)}onFormSubmit(){this.studForm.valid&&(this.data?this._alumnosService.updateAlumno(this.data.id,this.studForm.value).subscribe({next:e=>{alert("Student updated!"),this._dialogRef.close(!0)},error:e=>{console.error(e)}}):this._alumnosService.addAlumno(this.studForm.value).subscribe({next:e=>{alert("Student added succesfully"),this._dialogRef.close(!0)},error:e=>{console.error(e)}}))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(i.so),t.Y36(g),t.Y36(i.WI))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-stud-add-edit"]],decls:24,vars:4,consts:[["mat-dialog-title",""],[3,"formGroup","ngSubmit"],["mat-dialog-content","",1,"content"],[1,"row"],["appearance","outline"],["matInput","","placeholder","Diego","type","text","formControlName","firstName"],["matInput","","placeholder","Furrer","type","text","formControlName","lastName"],["matInput","","placeholder","diego@gmail.com","type","email","formControlName","email"],["mat-dialog-actions","",1,"action"],["mat-raised-button","","type","button",3,"mat-dialog-close"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"Student Form"),t.qZA()(),t.TgZ(3,"form",1),t.NdJ("ngSubmit",function(){return n.onFormSubmit()}),t.TgZ(4,"div",2)(5,"div",3)(6,"mat-form-field",4)(7,"mat-label"),t._uU(8,"First Name"),t.qZA(),t._UZ(9,"input",5),t.qZA(),t.TgZ(10,"mat-form-field",4)(11,"mat-label"),t._uU(12,"Last Name"),t.qZA(),t._UZ(13,"input",6),t.qZA()(),t.TgZ(14,"div",3)(15,"mat-form-field",4)(16,"mat-label"),t._uU(17,"Email"),t.qZA(),t._UZ(18,"input",7),t.qZA()()(),t.TgZ(19,"div",8)(20,"button",9),t._uU(21,"Cancel"),t.qZA(),t.TgZ(22,"button",10),t._uU(23),t.qZA()()()),2&e&&(t.xp6(3),t.Q6J("formGroup",n.studForm),t.xp6(17),t.Q6J("mat-dialog-close",!1),t.xp6(2),t.Q6J("disabled",n.studForm.invalid),t.xp6(1),t.Oqu(n.data?"Update":"Save"))},dependencies:[i.ZT,i.uh,i.xY,i.H8,m.KE,m.hX,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,h.lW,c.Nt],styles:[".content[_ngcontent-%COMP%]{padding-top:10px}.row[_ngcontent-%COMP%]{display:flex;gap:10px}.row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.action[_ngcontent-%COMP%]{padding:0 25px 20px}.action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1}"]}),o})();var y=l(7398),S=l(6133),b=l(2654);const Z=function(){return[]},F=[{path:"table",component:(()=>{class o{constructor(e,n){this.alumnosService=e,this.matDialog=n,this.titulo="Alumnos ABM",this.estudiantes=this.alumnosService.getAlumnoList(),this.displayedColumns=this.alumnosService.displayedColumns}getAlumnosList(){this.estudiantes=this.alumnosService.getAlumnoList()}deleteAlumno(e){this.alumnosService.deleteAlumno(e).subscribe({next:n=>{alert("Student deleted!"),this.getAlumnosList()},error:n=>{console.log(n)}})}addAlumno(){this.matDialog.open(A).afterClosed().subscribe({next:e=>{e&&this.getAlumnosList()}})}updateAlumno(e){this.matDialog.open(A,{data:e}).afterClosed().subscribe({next:n=>{n&&this.getAlumnosList()}})}applyFilter(e){const n=e.target.value;this.estudiantes=this.alumnosService.getAlumnoList().pipe((0,y.U)(u=>u.filter(r=>r.firstName.toLowerCase().startsWith(n.toLowerCase()))))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(g),t.Y36(i.uw))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-alumnos"]],decls:3,vars:6,consts:[[3,"titulo","agregar"],[1,"largo",3,"dataSource","displayedColumns","deleteButton","editButton","applyFilter"]],template:function(e,n){1&e&&(t.TgZ(0,"app-navbar",0),t.NdJ("agregar",function(){return n.addAlumno()}),t.qZA(),t.TgZ(1,"app-table",1),t.NdJ("deleteButton",function(r){return n.deleteAlumno(r)})("editButton",function(r){return n.updateAlumno(r)})("applyFilter",function(r){return n.applyFilter(r)}),t.ALo(2,"async"),t.qZA()),2&e&&(t.Q6J("titulo",n.titulo),t.xp6(1),t.Q6J("dataSource",t.lcZ(2,3,n.estudiantes)||t.DdM(5,Z))("displayedColumns",n.displayedColumns))},dependencies:[S.S,b.a,p.Ov],styles:[".largo[_ngcontent-%COMP%]{display:block;max-width:1000px;margin:auto}"]}),o})()},{path:"**",redirectTo:"table"}];let N=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[f.Bz.forChild(F),f.Bz]}),o})(),T=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[p.ez,i.Is,m.lN,a.UX,v.m,c.c,h.ot,N]}),o})()}}]);