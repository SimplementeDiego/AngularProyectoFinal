"use strict";(self.webpackChunkangular_project=self.webpackChunkangular_project||[]).push([[283],{6283:(J,c,s)=>{s.r(c),s.d(c,{CursosModule:()=>I});var p=s(6814),n=s(7700),d=s(9157),a=s(6223),v=s(2396),m=s(2032),C=s(2296),h=s(1896),y=s(7398),t=s(5879),b=s(9862);let f=(()=>{class e{constructor(o){this._http=o,this.displayedColumns=["id","areaCurso","duracion","certificado","action"],this.cursos=[]}addCurso(o){return this._http.post("http://localhost:3000/cursos",o)}updateCurso(o,r){return this._http.put(`http://localhost:3000/cursos/${o}`,r)}getCursoList(){return this._http.get("http://localhost:3000/cursos")}deleteCurso(o){return this._http.delete(`http://localhost:3000/cursos/${o}`)}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(b.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),g=(()=>{class e{constructor(o,r,i){this._dialogRef=o,this.cursosService=r,this.data=i,this.areaCursoControl=new a.NI(null,[a.kI.required]),this.duracionControl=new a.NI(null,[a.kI.required]),this.certificadoControl=new a.NI(null,[a.kI.required]),this.cursoForm=new a.cw({areaCurso:this.areaCursoControl,duracion:this.duracionControl,certificado:this.certificadoControl})}ngOnInit(){this.cursoForm.patchValue(this.data)}onFormSubmit(){this.cursoForm.valid&&(this.data?this.cursosService.updateCurso(this.data.id,this.cursoForm.value).subscribe({next:o=>{alert("Curso modificado."),this._dialogRef.close(!0)},error:o=>{console.error(o)}}):this.cursosService.addCurso(this.cursoForm.value).subscribe({next:o=>{alert("Curso agregado correctamente."),this._dialogRef.close(!0)},error:o=>{console.error(o)}}))}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(n.so),t.Y36(f),t.Y36(n.WI))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-cursos-add-edit"]],decls:24,vars:4,consts:[["mat-dialog-title",""],[3,"formGroup","ngSubmit"],["mat-dialog-content","",1,"content"],[1,"row"],["appearance","outline"],["matInput","","placeholder","Programaci\xf3n Backend","type","text","formControlName","areaCurso"],["matInput","","placeholder","15 meses","type","text","formControlName","duracion"],["matInput","","placeholder","Si","type","text","formControlName","certificado"],["mat-dialog-actions","",1,"action"],["mat-raised-button","","type","button",3,"mat-dialog-close"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"Clases Form"),t.qZA()(),t.TgZ(3,"form",1),t.NdJ("ngSubmit",function(){return r.onFormSubmit()}),t.TgZ(4,"div",2)(5,"div",3)(6,"mat-form-field",4)(7,"mat-label"),t._uU(8,"Area del Curso"),t.qZA(),t._UZ(9,"input",5),t.qZA(),t.TgZ(10,"mat-form-field",4)(11,"mat-label"),t._uU(12,"Duracion"),t.qZA(),t._UZ(13,"input",6),t.qZA()(),t.TgZ(14,"div",3)(15,"mat-form-field",4)(16,"mat-label"),t._uU(17,"Certificado"),t.qZA(),t._UZ(18,"input",7),t.qZA()()(),t.TgZ(19,"div",8)(20,"button",9),t._uU(21,"Cancel"),t.qZA(),t.TgZ(22,"button",10),t._uU(23),t.qZA()()()),2&o&&(t.xp6(3),t.Q6J("formGroup",r.cursoForm),t.xp6(17),t.Q6J("mat-dialog-close",!1),t.xp6(2),t.Q6J("disabled",r.cursoForm.invalid),t.xp6(1),t.Oqu(r.data?"Update":"Save"))},dependencies:[n.ZT,n.uh,n.xY,n.H8,d.KE,d.hX,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,C.lW,m.Nt]}),e})();var Z=s(6133),S=s(2654);const F=function(){return[]},A=[{path:"table",component:(()=>{class e{constructor(o,r){this.cursosService=o,this.matDialog=r,this.titulo="Cursos ABM",this.cursos=this.cursosService.getCursoList(),this.displayedColumns=this.cursosService.displayedColumns}getCursos(){this.cursos=this.cursosService.getCursoList()}deleteCurso(o){this.cursosService.deleteCurso(o).subscribe({next:r=>{alert("Curso eliminado."),this.getCursos()},error:r=>{console.log(r)}})}createCurso(){this.matDialog.open(g).afterClosed().subscribe({next:o=>{o&&this.getCursos()}})}editCurso(o){this.matDialog.open(g,{data:o}).afterClosed().subscribe({next:r=>{r&&this.getCursos()}})}applyFilter(o){const r=o.target.value;this.cursos=this.cursosService.getCursoList().pipe((0,y.U)(i=>i.filter(l=>l.areaCurso.toLowerCase().startsWith(r.toLowerCase()))))}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(f),t.Y36(n.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-cursos"]],decls:3,vars:6,consts:[[3,"titulo","agregar"],[1,"largo",3,"dataSource","displayedColumns","deleteButton","editButton","applyFilter"]],template:function(o,r){1&o&&(t.TgZ(0,"app-navbar",0),t.NdJ("agregar",function(){return r.createCurso()}),t.qZA(),t.TgZ(1,"app-table",1),t.NdJ("deleteButton",function(l){return r.deleteCurso(l)})("editButton",function(l){return r.editCurso(l)})("applyFilter",function(l){return r.applyFilter(l)}),t.ALo(2,"async"),t.qZA()),2&o&&(t.Q6J("titulo",r.titulo),t.xp6(1),t.Q6J("dataSource",t.lcZ(2,3,r.cursos)||t.DdM(5,F))("displayedColumns",r.displayedColumns))},dependencies:[Z.S,S.a,p.Ov],styles:[".largo[_ngcontent-%COMP%]{display:block;max-width:1000px;margin:auto}"]}),e})()},{path:"**",redirectTo:"table"}];let T=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[h.Bz.forChild(A),h.Bz]}),e})(),I=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[p.ez,n.Is,d.lN,a.UX,v.m,m.c,C.ot,T]}),e})()}}]);